{
    "contest_id": "1883",
    "problem_index": "F",
    "title": "F. You Are So Beautiful",
    "description": "You are given an array of integers a 1 , a 2 , … , a n a 1 , a 2 , … , a n . Calculate the number of subarrays of this array 1 ≤ l ≤ r ≤ n 1 ≤ l ≤ r ≤ n , such that: The array b = [ a l , a l + 1 , … , a r ] b = [ a l , a l + 1 , … , a r ] occurs in the array a a as a subsequence exactly once. In other words, there is exactly one way to select a set of indices 1 ≤ i 1 < i 2 < … < i r − l + 1 ≤ n 1 ≤ i 1 < i 2 < … < i r − l + 1 ≤ n , such that b j = a i j b j = a i j for all 1 ≤ j ≤ r − l + 1 1 ≤ j ≤ r − l + 1 .",
    "input": "Input Each test consists of multiple test cases. The first line contains a single integer t t ( 1 ≤ t ≤ 10 4 1 ≤ t ≤ 10 4 ) — the number of test cases. This is followed by their description. The first line of each test case contains an integer n n ( 1 ≤ n ≤ 10 5 1 ≤ n ≤ 10 5 ) — the size of the array a a . The second line of each test case contains n n integers a 1 , a 2 , … , a n a 1 , a 2 , … , a n ( 1 ≤ a i ≤ 10 9 1 ≤ a i ≤ 10 9 ). It is guaranteed that the sum of n n over all test cases does not exceed 2 ⋅ 10 5 2 ⋅ 10 5 .",
    "output": "Output For each test case, output the number of suitable subarrays .",
    "example": "Example\nInput\nCopy\n6\n1\n1\n2\n1 1\n3\n1 2 1\n4\n2 3 2 1\n5\n4 5 4 5 4\n10\n1 7 7 2 3 4 3 2 1 100\nOutput\nCopy\n1\n1\n4\n7\n4\n28",
    "note": "Note In the first test case, there is exactly one subarray ( 1 , 1 ) ( 1 , 1 ) that suits us. In the second test case, there is exactly one subarray ( 1 , 2 ) ( 1 , 2 ) that suits us. Subarrays ( 1 , 1 ) ( 1 , 1 ) and ( 2 , 2 ) ( 2 , 2 ) do not suit us, as the subsequence [ 1 ] [ 1 ] occurs twice in the array. In the third test case, all subarrays except ( 1 , 1 ) ( 1 , 1 ) and ( 3 , 3 ) ( 3 , 3 ) are suitable.",
    "tags": [
        "data structures",
        "*1400"
    ],
    "editorial_content": null
}